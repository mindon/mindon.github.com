
<am-article time="2005-01-07 09:43:00 +0800" tags="[BlogMS]" slug="2005/01/07/old-blogms-1000141876">
    <h1 slot="title">lake pollution distribution (MATLAB)</h1>
    <div slot="content"><css-style/><p>BlogMS original blog key: 1000141876, blog id: airoff
History stat: 浏览/评论：166/0  ,  日期：2005年1月7日 09:43</p>

<p><font size=2 style="line-height:14pt"><b>file lake0.m: x - y distribution</b></p>

<p>================================================</p>

<p><font color=#00008B>%lake0(m,num)</p>

<p>%m decides how smooth the curve you want to be.</p>

<p>%num decides how many countors you want to show.</p>

<p>%example:lake0(160,20)</p>

<p>function lake0(m,num)</p>

<p>%all known parameters setup</p>

<p>n=6;</p>

<p>%u0=3.854167;</p>

<p>%c0=0.599653;</p>

<p>u0=0;</p>

<p>c0=7.195833;</p>

<p>c=[-0.121111 	-0.000089 -0.233839 -0.114921 0.015436 -0.368833];</p>

<p>d=[0.033955 	-0.034494 -0.017328 -0.086451 0.073220 0.000013];</p>

<p>r=0:1/m:1.0;</p>

<p>thita=0:2*pi/m:2*pi;</p>

<p>%Initalize the matrixs for higher speed</p>

<p>rp=(r(ones(size(thita)),:))&lsquo;;</p>

<p>thita=thita(ones(size&reg;),:);</p>

<p>%clear useless vetor</p>

<p>clear r;</p>

<p>x=31*rp.*cos(thita);</p>

<p>y=31*rp.*sin(thita);</p>

<p>u=rp.*(c(1)*cos(thita)+d(1)*sin(thita));</p>

<p>for k=2:n</p>

<p>u=u+(rp.^k).*(c(k)*cos(k*thita)+d(k)*sin(k*thita));</p>

<p>end</p>

<p>%clear useless vetor</p>

<p>clear c d k n m;</p>

<p>clear rp thita;</p>

<p>u=u0+c0/2+u;%Final result</p>

<p>%define the color map</p>

<p>colormap(zeros(64,3));</p>

<p>grid off</p>

<p>axis equal,hold;</p>

<p>axis([-35 35 -35 35]);</p>

<p>set(gcf,&lsquo;Color&rsquo;,[1 1 1]);</p>

<p>set(gca,&lsquo;Box&rsquo;,&lsquo;on&rsquo;,&lsquo;LineWidth&rsquo;,1.5);</p>

<p>rAngle=pi;</p>

<p>xr=x*cos(rAngle)+y*sin(rAngle);</p>

<p>yr=-x*sin(rAngle)+y*cos(rAngle);</p>

<p>%[C,h]=contour(x,y,u,num);</p>

<p>[C,h]=contour(xr,yr,u,num);</p>

<p>%clear useless vetor</p>

<p>clear x y u;</p>

<p>title(&lsquo;湖水内部环境污染综合指标分布&rsquo;);</p>

<p>xlabel(&lsquo;x (m)&rsquo;);</p>

<p>ylabel(&lsquo;y (m)&rsquo;);</p>

<p>%clabel&copy;;</p>

<p>%clabel(C,h);</p>

<p>clabel(C,&lsquo;manual&rsquo;);</p>

<p>hold off</font></p>

<p>================================================</p>

<p><b>file lake1.m: radiu - angle distribution</b></p>

<p>================================================</p>

<p><font color=#483D8B>%lake1(m,num)</p>

<p>%m decides how smooth the curve you want to be.</p>

<p>%num decides how many countors you want to show.</p>

<p>%example:lake1(160,20)</p>

<p>function lake(m,num)</p>

<p>n=6;</p>

<p>%u0=3.854167;</p>

<p>%c0=0.599653;</p>

<p>u0=0;</p>

<p>c0=7.195833;</p>

<p>c=[-0.121111 	-0.000089 -0.233839 -0.114921 0.015436 -0.368833];</p>

<p>d=[0.033955 	-0.034494 -0.017328 -0.086451 0.073220 0.000013];</p>

<p>r=0:31/m:31.0;</p>

<p>thita=0:360/m:360;</p>

<p>rp=(r(ones(size(thita)),:))&lsquo;;</p>

<p>thita=thita(ones(size&reg;),:);</p>

<p>u=(rp/31).*(c(1)*cos(thita*pi/180)+d(1)*sin(thita*pi/180));</p>

<p>for k=2:n</p>

<p>u=u+((rp/31).^k).*(c(k)<em>cos(k</em>(thita*pi/180))+d(k)<em>sin(k</em>(thita*pi/180)));</p>

<p>end</p>

<p>u=u0+c0/2+u;</p>

<p>colormap(zeros(64,3));</p>

<p>[C,h]=contour(thita,rp,u,num);</p>

<p>set(gcf,&lsquo;Color&rsquo;,[1 1 1]);</p>

<p>set(gca,&lsquo;Box&rsquo;,&lsquo;on&rsquo;,&lsquo;LineWidth&rsquo;,1.5);</p>

<p>set(h,&lsquo;LineWidth&rsquo;,1.2);</p>

<p>title(&lsquo;湖水内部环境污染综合指标分布&rsquo;);</p>

<p>ylabel(&lsquo;半径 r (m)&rsquo;);</p>

<p>xlabel(&lsquo;角度   (度)&rsquo;);</p>

<p>%clabel(C,h);</p>

<p>clabel(C,&lsquo;manual&rsquo;);</p>

<p>hold off</font></p>

<p>================================================</p>

<p></font></p>
</div>
     <a slot="next" class="next" href="/blog/2005/01/07/old-blogms-1000141891">Effective C++读书笔记</a>
     <a slot="prev" class="prev" href="/blog/2005/01/07/old-blogms-1000141854">SVG Color Names & RGB Values</a>
</am-article>
