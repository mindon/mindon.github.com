(function(e,t,n,r){"use strict";var i=false;var o;var u;var a={};if(!t.createTouch){t.createTouch=function(t,n,i,o,u,a,s,f,d){if(f==r||d==r){f=o-e.pageXOffset;d=u-e.pageYOffset}return new c(n,i,{pageX:o,pageY:u,screenX:a,screenY:s,clientX:f,clientY:d})}}if(!t.createTouchList){t.createTouchList=function(){var e=new s;for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}e.length=arguments.length;return e}}function c(e,t,n,r,i){r=r||0;i=i||0;this.identifier=t;this.target=e;this.clientX=n.clientX+r;this.clientY=n.clientY+i;this.screenX=n.screenX+r;this.screenY=n.screenY+i;this.pageX=n.pageX+r;this.pageY=n.pageY+i}function s(){var e=[];e.item=function(e){return this[e]||null};e.identifiedTouch=function(e){return this[e+1]||null};return e}function f(){var n=[e,t.documentElement];var i=["ontouchstart","ontouchmove","ontouchcancel","ontouchend"];for(var o=0;o<n.length;o++){for(var u=0;u<i.length;u++){if(n[o]&&n[o][i[u]]==r){n[o][i[u]]=null}}}}function d(){return"ontouchstart"in e||e.Modernizr&&e.Modernizr.touch||(navigator.msMaxTouchPoints||navigator.maxTouchPoints)>2}function l(t){if(e.touchEmulatorOff)return;t.preventDefault();t.stopPropagation()}var h=/dont/i;function p(e){return function(t){var n=u||t.target||t.srcElement;if(n&&(h.test(n.getAttribute("class"))||n.parentNode&&h.test(n.parentNode.getAttribute("class"))))return true;l(t);if(t.which!==1){return}if(t.type=="mousedown"||t.type!="mousemove"&&(!u||u&&!u.dispatchEvent)){u=t.target}if(i&&!t.shiftKey){v("touchend",t);i=false}if(u)v(e,t);if(!i&&t.shiftKey){i=true;o={pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY};v("touchstart",t)}if(t.type=="mouseup"){o=null;i=false;u=null}}}function v(e,n){var r=t.createEvent("Event");r.initEvent(e,true,true);r.altKey=n.altKey;r.ctrlKey=n.ctrlKey;r.metaKey=n.metaKey;r.shiftKey=n.shiftKey;r.touches=g(n,e);r.targetTouches=g(n,e);r.changedTouches=y(n,e);u.dispatchEvent(r)}function m(e){var t=new s;if(i){var n=X.multiTouchOffset;var r=o.pageX-e.pageX;var a=o.pageY-e.pageY;t.push(new c(u,1,o,r*-1-n,a*-1+n));t.push(new c(u,2,o,r+n,a-n))}else{t.push(new c(u,1,e,0,0))}return t}function g(e,t){if(e.type=="mouseup"){return new s}var n=m(e);if(i&&e.type!="mouseup"&&t=="touchend"){n.splice(1,1)}return n}function y(e,t){var n=m(e);if(i&&e.type!="mouseup"&&(t=="touchstart"||t=="touchend")){n.splice(0,1)}return n}function E(e){var n,r,i,o;for(r=0;r<e.touches.length;r++){n=e.touches[r];i=a[n.identifier];if(!i){i=a[n.identifier]=t.createElement("div");t.body.appendChild(i)}o=X.template(n);for(var u in o){i.style[u]=o[u]}}if(e.type=="touchend"||e.type=="touchcancel"){for(r=0;r<e.changedTouches.length;r++){n=e.changedTouches[r];i=a[n.identifier];if(i){i.parentNode.removeChild(i);delete a[n.identifier]}}}}function X(){if(d()){return}f();e.addEventListener("mousedown",p("touchstart"),true);e.addEventListener("mousemove",p("touchmove"),true);e.addEventListener("mouseup",p("touchend"),true);e.addEventListener("mouseenter",l,true);e.addEventListener("mouseleave",l,true);e.addEventListener("mouseout",l,true);e.addEventListener("mouseover",l,true);e.addEventListener("touchstart",E,false);e.addEventListener("touchmove",E,false);e.addEventListener("touchend",E,false);e.addEventListener("touchcancel",E,false)}X.multiTouchOffset=75;X.template=function(e){var t=30;var n="translate("+(e.clientX-t/2)+"px, "+(e.clientY-t/2)+"px)";return{position:"fixed",left:0,top:0,background:"#fff",border:"solid 1px #999",opacity:.6,borderRadius:"100%",height:t+"px",width:t+"px",padding:0,margin:0,display:"block",overflow:"hidden",pointerEvents:"none",webkitUserSelect:"none",mozUserSelect:"none",userSelect:"none",webkitTransform:n,mozTransform:n,transform:n}};if(typeof define=="function"&&define.amd){define(function(){return X})}else if(typeof module!="undefined"&&module.exports){module.exports=X}else{e[n]=X}})(window,document,"TouchEmulator");