<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="mindon/at/gmail.com" site="https://mindon.github.io/" />
    <title>
Memory Challenge
    </title>

    <style type="text/css">
html, body {
  font: 14pt/2em Tahoma,Arial,sans-serif;
  background: #666;
  color:#fff;
  margin: 0;
  padding: 0;
}
html * {
  -moz-user-select: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  user-select: none;
}
#gameboard {
  width: 320px;
  margin: 0 auto;
  text-align: center;
  overflow:hidden;
  position: relative;
}

.bonus {
  background: #999;
  background: -moz-linear-gradient(top, #999 1%, #343 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(1%,#999), color-stop(100%,#343)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #999 1%,#343 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top, #999 1%,#343 100%); /* Opera 11.10+ */
  background: linear-gradient(to bottom, #999 1%,#343 100%); /* W3C */

  padding-top: 8px;
  padding-bottom: 16px;
  cursor: default;

  -moz-border-radius: 0 0 60px 60px;
  -webkit-border-radius: 0 0 60px 60px;
  border-radius: 0 0 60px 60px;

}

.bonus p {
  margin:0;
}

#mybonus {
  font-size: 19pt;
  font-weight: bold;
  color: #ff0;
}
#playground {
  overflow: hidden;
  width: 100%;
}
#playground ul {
  list-style: none;
  padding: 0;
  margin: 0;
  clear: both;
}
#playground li {
  float: left;
  width: 54px;
  height: 54px;
  margin: 1px;
  list-style: none;
  padding: 0;
  -moz-border-radius: 8px 8px 30px 30px;
  -webkit-border-radius: 8px 8px 30px 30px;
  border-radius: 8px 8px 30px 30px;

  font-size: 24pt;
  line-height: 48px;
  text-align: center;
  color: #fff;
  -webkit-transition-property: transform;
  -webkit-transition-duration: 0.3s;
  -webkit-transition-timing-function: ease-out;
  -webkit-backface-visibility: hidden;
  -webkit-transform-style: preserve-3d;
}

.number {
  background-color: #6699ff;
  color: #fff;
  cursor: pointer;
}

#playground li.hit0 {
  -webkit-transform: rotateY(90deg);
  -webkit-transition-duration: 0.2s;
  -webkit-transition-timing-function: ease-in;
}
#playground li.hit1 {
  -webkit-transform: rotateX(90deg);
  -webkit-transition-duration: 0.2s;
  -webkit-transition-timing-function: ease-in;
}

#playground li.hide {
  -webkit-transition-property: background-color;
  -webkit-transition-duration: 0.3s;

  background: rgb(183,222,237); /* Old browsers */
  background: -moz-linear-gradient(top,  rgba(183,222,237,1) 0%, rgba(113,206,239,1) 50%, rgba(33,180,226,1) 51%, rgba(183,222,237,1) 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(183,222,237,1)), color-stop(50%,rgba(113,206,239,1)), color-stop(51%,rgba(33,180,226,1)), color-stop(100%,rgba(183,222,237,1))); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  rgba(183,222,237,1) 0%,rgba(113,206,239,1) 50%,rgba(33,180,226,1) 51%,rgba(183,222,237,1) 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  rgba(183,222,237,1) 0%,rgba(113,206,239,1) 50%,rgba(33,180,226,1) 51%,rgba(183,222,237,1) 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  rgba(183,222,237,1) 0%,rgba(113,206,239,1) 50%,rgba(33,180,226,1) 51%,rgba(183,222,237,1) 100%); /* IE10+ */
  background: linear-gradient(to bottom,  rgba(183,222,237,1) 0%,rgba(113,206,239,1) 50%,rgba(33,180,226,1) 51%,rgba(183,222,237,1) 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b7deed', endColorstr='#b7deed',GradientType=0 ); /* IE6-8 */

}

#playground li.hide span {
  display: none;
}

#fin {
  width: 320px;
  height: 300px;
  position: absolute;
  top: 60px;
  left: 0;
  display: none;
}

#logo {
  width: 160px;
  height: 160px;
  background: #fff;
  margin: 0 auto;
  -moz-border-radius: 80px;
  -webkit-border-radius: 80px;
  border-radius: 80px;
  background: #fff url(../slot/img/products.jpg) no-repeat 0 0;

  position:relative;
  overflow: hidden;

  -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);
}

#mask {
  width: 160px;
  opacity: 0.4;
  filter: Alpha(Opacity=40);
  background-color: #000;
  position: absolute;
  bottom: 0;
}

#retry, #next {
  -moz-border-radius: 8px;
  -webkit-border-radius: 8px;
  border-radius: 8px;
  width: 120px;
  font-size: 17pt;
  font-weight: bold;
  line-height: 38px;
  position: absolute;
  bottom: 0;
  border: 2px solid #999;
  color: #666;
  cursor: pointer;
  text-align: center;
}

#retry {
  left: 20px;

  background: rgb(224,243,250); /* Old browsers */
  background: -moz-linear-gradient(top,  rgba(224,243,250,1) 0%, rgba(216,240,252,1) 50%, rgba(184,226,246,1) 51%, rgba(182,223,253,1) 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(224,243,250,1)), color-stop(50%,rgba(216,240,252,1)), color-stop(51%,rgba(184,226,246,1)), color-stop(100%,rgba(182,223,253,1))); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  rgba(224,243,250,1) 0%,rgba(216,240,252,1) 50%,rgba(184,226,246,1) 51%,rgba(182,223,253,1) 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  rgba(224,243,250,1) 0%,rgba(216,240,252,1) 50%,rgba(184,226,246,1) 51%,rgba(182,223,253,1) 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  rgba(224,243,250,1) 0%,rgba(216,240,252,1) 50%,rgba(184,226,246,1) 51%,rgba(182,223,253,1) 100%); /* IE10+ */
  background: linear-gradient(to bottom,  rgba(224,243,250,1) 0%,rgba(216,240,252,1) 50%,rgba(184,226,246,1) 51%,rgba(182,223,253,1) 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e0f3fa', endColorstr='#b6dffd',GradientType=0 ); /* IE6-8 */

}

#next {
  right: 20px;

  background: rgb(252,234,187); /* Old browsers */
  background: -moz-linear-gradient(top,  rgba(252,234,187,1) 0%, rgba(252,205,77,1) 50%, rgba(248,181,0,1) 51%, rgba(251,223,147,1) 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(252,234,187,1)), color-stop(50%,rgba(252,205,77,1)), color-stop(51%,rgba(248,181,0,1)), color-stop(100%,rgba(251,223,147,1))); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* IE10+ */
  background: linear-gradient(to bottom,  rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fceabb', endColorstr='#fbdf93',GradientType=0 ); /* IE6-8 */
}

.bonus p {
  line-height:1.4em;
}

.notify {
  font-size: 11pt;
  color: #999;
  text-align: center;
  display: block;
  color: #00ffff;
  text-decoration: underline;
}

.notify b {
  color: #ff0;
}

#score {
  font-size: 17pt;
  color: #f60;
}

#start {
  position: absolute;
  top: 120px;
  width: 320px;
  text-align: center;
}
#start div {
  width: 100px;
  line-height: 60px;
  text-align: center;
  background: #ff9900;
  margin: 0 auto;
  -moz-border-radius: 12px;
  -webkit-border-radius: 12px;
  border-radius: 12px;
  cursor: pointer;
  position: absolute;
  top: 110px;
}

#restart {
  left: 30px;  
}

#mycontinue {
  right: 30px;
}

#start div:hover {
  background: #cc6600;
}


.disabled {
  background: #999 !important;
  cursor: default !important;
}
</style>
<!--[if IE]>
<style>
#playground li.hit0, #playground li.hit1 {
  visibility: hidden;
}
</style>
<![endif]-->
<!--[if gte IE 9]>
<style>
#playground li.hide {
  filter: none;
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2I3ZGVlZCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzcxY2VlZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUxJSIgc3RvcC1jb2xvcj0iIzIxYjRlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNiN2RlZWQiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
}
#retry {
  filter: none;
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2UwZjNmYSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Q4ZjBmYyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUxJSIgc3RvcC1jb2xvcj0iI2I4ZTJmNiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNiNmRmZmQiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
}
#next {
  filter: none;
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZjZWFiYiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZjY2Q0ZCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUxJSIgc3RvcC1jb2xvcj0iI2Y4YjUwMCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmYmRmOTMiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
}
</style>
<![endif]-->
  </head>
<body>
  <div id="gameboard">
    <div class="bonus">
      <p>Total Bonus: <span id="mybonus">Welcome!</span></p>
    </div>
    <div id="playground">
<ul><li></li><li></li><li></li><li></li><li></li></ul>
<ul><li></li><li></li><li></li><li></li><li></li></ul>
<ul><li></li><li></li><li></li><li></li><li></li></ul>
<ul><li></li><li></li><li></li><li></li><li></li></ul>
<ul><li></li><li></li><li></li><li></li><li></li></ul>
    </div>
    <div id="fin">
      <div id="score">BONUS: <b>0</b></div>
      <div id="stats">Accuracy: <b id="accuracy">0</b>%, Time: <b id="timecost">0</b> sec</div>
      <div id="logo"><div id="mask"></div></div>
      <div id="retry">◎ Retry</div>
      <div id="next">Next ★</div>
    </div>
    <div id="start">
      <h2>Memory Challenge</h2>
      <div id="restart">Start</div>
      <div id="mycontinue">Continue</div>
    </div>
  <a class="notify" href="https://weixin.qq.com/r/XHVhbhvEziWxhwoNnyB4">Add "<b>QiPlay</b>" to play more games</a>
  </div>
<script
  src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
  integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
  crossorigin="anonymous"></script>
<script type="text/javascript">
function checkfn(){var e=$(this),t=e.data("i");clicked[0]===0&&clicked[1]===0&&(timestart=(new Date).getTime());if(!e.hasClass("hide"))return e=null,!0;if(t===m[0]){clicked[0]++,m.shift(),e.removeClass("hide").addClass("hit"+Math.round(Math.random())),e=null,bonus+=30;if(m.length==0){level>=25&&$("#next").html("Great!").unbind("click"),setTimeout(function(){$("#fin").show()},150),$("#playground ul li").filter(".number").removeClass("hide").removeClass("hit0").removeClass("hit1").html("").removeClass("number").unbind("click"),$("#score b").html(bonus);var n=Math.round(clicked[0]*100/(clicked[0]+clicked[1]));$("#accuracy").html(n),$("#timecost").html((((new Date).getTime()-timestart)/1e3).toFixed(1)),$("#mask").css("height",Math.round((100-n)*1.6)),n<99?$("#next").addClass("disabled"):$("#next").removeClass("disabled"),record(bonus)}}else clicked[1]++,bonus-=50,e.removeClass("hide"),setTimeout(function(){e.addClass("hide"),e=null},250)}function record(e){window.localStorage?typeof e=="number"?(localStorage["bonus-M"]=(localStorage["bonus-M"]?parseInt(localStorage["bonus-M"])||0:0)+e,localStorage["level-M"]=level,localStorage.bonus=(localStorage.bonus?parseInt(localStorage.bonus)||0:_SPARK)+e,$("#mybonus").html(localStorage["bonus-M"])):($("#mybonus").html(localStorage["bonus-M"]||0),localStorage.bonus||(localStorage.bonus=_SPARK),localStorage["level-M"]&&(level=parseInt(localStorage["level-M"])),level<3&&(level=3),$("#mybonus").html(localStorage["bonus-M"]||0)):e&&$("#mybonus").html((parseInt($("#mybonus").html())||0)+e)}function shuffle(e){var t=$("#playground ul li"),n=0,r={};for(var i=1;i<=e;i++){do n=Math.floor(25*Math.random());while(r[n]);r[n]=i,t.eq(n).addClass("number").html("<span>"+i+"</span>").click(checkfn),m.push(n)}setTimeout(function(){$("#playground ul li.number").addClass("hide")},250+e*100),t=null,$("#logo").css("background-position",27-106*Math.floor(15*Math.random())+"px 27px"),bonus=0,clicked=[0,0]}var level=3,bonus=0,m=[],conf=window.QiPlayCONF||{},_SPARK=conf._SPARK||100,clicked=[0,0],timestart=0;$(document).ready(function(){var e=0;$("#playground ul li").each(function(){$(this).css("margin-top",Math.floor(20*Math.random())).data("i",e++)}),$("#playground ul").find("li:first").each(function(){$(this).css("margin-left",Math.floor(36*Math.random()))}),record(),$("#retry,#logo").click(function(){$("#fin").hide(),shuffle(level)}),$("#next").click(function(){if($(this).hasClass("disabled"))return!0;level+=1,$("#fin").hide(),shuffle(level),window.localStorage&&(localStorage["level-M"]=level)}),$("#mycontinue").click(function(){$("#start").hide(),shuffle(level)}),$("#restart").click(function(){$("#start").hide(),level=3,shuffle(level)}),level===3&&($("#mycontinue").hide(),$("#restart").css("left",110))});
</script>
</body>
</html>
